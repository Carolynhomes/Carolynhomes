# 前缀和

对于一个长度为 n 的列表 a，前缀和为：

```
sum[i] = a[0] + a[1] + ... + a[i]
```

例如，a=[1,3,4,2,5]，前缀和数组 sum=[1,4,8,10,15]

## 性质

```
sum[i] = sum[i - 1] + a[i]
a[l] + ... + a[r] = sum[r] - sum[l -1]
```

第一条性质用于处理出前缀和

第二条可以在 O(1)的时间内求出区间和

## 实现

```python
def get_presum(a):
    """求出a的前缀和"""
    n = len(a)
    sum = [0] * n
    sum[0] = a[0]

    for i in range(1, n):
        sum[i] = sum[i - 1] + a[i]
    
    return sum

def get_sum(sum, l, r):
    """求区间a[l] + ... + a[r]的和"""
    if l == 0:
        return sum[r]
    else:
        return sum[r] - sum[l - 1]

if __name__ == '__main__': 
   a = [1, 2, 3, 4, 5]
   sum = get_presum(a)
   print("a = ", a)
   print("sum = ", sum)
   print(get_sum(sum, 2, 3))
from itertools import accumulate

def get_presum(a):
    """求出a的前缀和"""
    sum = list(accumulate(a))
    return sum

def get_sum(sum, l, r):
    if l == 0:
        return sum[r]
    else:
        return sum[r] - sum[l - 1]
    
```

## 题目

蓝桥：3382、3419

3382——没写出来



# 二维前缀和

![img](https://cdn.nlark.com/yuque/0/2024/png/35081558/1732095890843-0d94dbd3-4767-412a-a58e-abd98de99cec.png)![img](https://cdn.nlark.com/yuque/0/2024/png/35081558/1732095941116-b00cc365-cc8c-4844-a88f-2f854109078d.png)

```python
def output(a, n):
    for i in range(1, n + 1):
        print(' '.join(map(str, a[i][1:])))

n, m = map(int, input().split())

# 下标从1开始
a = [[0] * (m + 1) for i in range(n + 1)]
sum = [[0] * (m + 1) for i in range(n + 1)]

# 输入一个二维数组
for i in range(1, n + 1):
    a[i] = [0] + list(map(int, input().split()))

for i in range(1, n + 1):
    for j in range(1, m + 1):
        sum[i][j] = sum[i - 1][j] + sum[i][j - 1] - sum[i - 1][j - 1] + a[i][j]

output(sum, n)
```

![img](https://cdn.nlark.com/yuque/0/2024/png/35081558/1732096220518-b653a32a-44b4-4e3a-84e7-9cd74211750d.png)

👆 这个图 没看懂，不应该是  54-14=30 吗

## 题目

蓝桥：2109