# å‰ç¼€å’Œ

å¯¹äºä¸€ä¸ªé•¿åº¦ä¸º n çš„åˆ—è¡¨ aï¼Œå‰ç¼€å’Œä¸ºï¼š

```
sum[i] = a[0] + a[1] + ... + a[i]
```

ä¾‹å¦‚ï¼Œa=[1,3,4,2,5]ï¼Œå‰ç¼€å’Œæ•°ç»„ sum=[1,4,8,10,15]

## æ€§è´¨

```
sum[i] = sum[i - 1] + a[i]
a[l] + ... + a[r] = sum[r] - sum[l -1]
```

ç¬¬ä¸€æ¡æ€§è´¨ç”¨äºå¤„ç†å‡ºå‰ç¼€å’Œ

ç¬¬äºŒæ¡å¯ä»¥åœ¨ O(1)çš„æ—¶é—´å†…æ±‚å‡ºåŒºé—´å’Œ

## å®ç°

```python
def get_presum(a):
    """æ±‚å‡ºaçš„å‰ç¼€å’Œ"""
    n = len(a)
    sum = [0] * n
    sum[0] = a[0]

    for i in range(1, n):
        sum[i] = sum[i - 1] + a[i]
    
    return sum

def get_sum(sum, l, r):
    """æ±‚åŒºé—´a[l] + ... + a[r]çš„å’Œ"""
    if l == 0:
        return sum[r]
    else:
        return sum[r] - sum[l - 1]

if __name__ == '__main__': 
   a = [1, 2, 3, 4, 5]
   sum = get_presum(a)
   print("a = ", a)
   print("sum = ", sum)
   print(get_sum(sum, 2, 3))
from itertools import accumulate

def get_presum(a):
    """æ±‚å‡ºaçš„å‰ç¼€å’Œ"""
    sum = list(accumulate(a))
    return sum

def get_sum(sum, l, r):
    if l == 0:
        return sum[r]
    else:
        return sum[r] - sum[l - 1]
    
```

## é¢˜ç›®

è“æ¡¥ï¼š3382ã€3419

3382â€”â€”æ²¡å†™å‡ºæ¥



# äºŒç»´å‰ç¼€å’Œ

![img](https://cdn.nlark.com/yuque/0/2024/png/35081558/1732095890843-0d94dbd3-4767-412a-a58e-abd98de99cec.png)![img](https://cdn.nlark.com/yuque/0/2024/png/35081558/1732095941116-b00cc365-cc8c-4844-a88f-2f854109078d.png)

```python
def output(a, n):
    for i in range(1, n + 1):
        print(' '.join(map(str, a[i][1:])))

n, m = map(int, input().split())

# ä¸‹æ ‡ä»1å¼€å§‹
a = [[0] * (m + 1) for i in range(n + 1)]
sum = [[0] * (m + 1) for i in range(n + 1)]

# è¾“å…¥ä¸€ä¸ªäºŒç»´æ•°ç»„
for i in range(1, n + 1):
    a[i] = [0] + list(map(int, input().split()))

for i in range(1, n + 1):
    for j in range(1, m + 1):
        sum[i][j] = sum[i - 1][j] + sum[i][j - 1] - sum[i - 1][j - 1] + a[i][j]

output(sum, n)
```

![img](https://cdn.nlark.com/yuque/0/2024/png/35081558/1732096220518-b653a32a-44b4-4e3a-84e7-9cd74211750d.png)

ğŸ‘† è¿™ä¸ªå›¾ æ²¡çœ‹æ‡‚ï¼Œä¸åº”è¯¥æ˜¯  54-14=30 å—

## é¢˜ç›®

è“æ¡¥ï¼š2109